---
title: Headless Flow
description: Guide to implementing the Headless authentication flow.
---

import { Steps, Aside, Code, LinkButton } from "@astrojs/starlight/components";

<Aside type="caution" title="Headless Mode is discouraged">
  It requires you to handle the verification lifecycle manually and does not provide the security benefits of the standard OIDC flow. Only use this if you absolutely cannot use a web-based redirect flow (e.g., CLI tools, in-game mods).
</Aside>

This guide explains how to implement the headless authentication flow using the MC-ID API.

<LinkButton href="https://mc-id.com/api#mc-id-api" variant="secondary" icon="external">
  View API Reference
</LinkButton>

## Comparison with Normal Mode

| Feature             | Normal Mode (OIDC)                                                                                | Headless Mode                                                                                          |
| :------------------ | :------------------------------------------------------------------------------------------------ | :----------------------------------------------------------------------------------------------------- |
| **User Experience** | **Single Sign-On (SSO)**. Users verify once and can log in to any MC-ID app without re-verifying. | **Per-App Verification**. Users must launch Minecraft and verify specifically for your app every time. |
| **Integration**     | Standard OIDC libraries.                                                                          | Manual API calls.                                                                                      |
| **Security**        | Handled by MC-ID.                                                                                 | You handle the flow.                                                                                   |

## The Flow

<Steps>

1.  **Request Code:** Your app requests a verification session for a Minecraft user.
2.  **User Joins Server:** Instruct the user to join the Minecraft server, `auth.mc-id.com`.
3.  **User Receives Code:** The server kicks the user and displays a 6-digit code.
4.  **User Enters Code:** The user enters this code into your application.
5.  **Verify Code:** Your app sends the code to the API for verification.

</Steps>

## Step 1: Request Code

Call the `codes/request` endpoint with the user's UUID to start the process.

<Code
  code={`
  curl -X POST https://mc-id.com/api/v1/codes/request \\
    -H "Content-Type: application/json" \\
    -H "X-API-Key: YOUR_API_KEY" \\
    -d '{"uuid": "069a79f444e94726a5befca90e38aaf5"}'
  `}
  lang="bash"
  mark={["codes/request", "YOUR_API_KEY"]}
/>

## Step 2: User Joins Server

Instruct the user to join the verification server, `auth.mc-id.com`.

## Step 3: User Receives Code

The user will be kicked from the server with a message containing their verification code.

## Step 4: Verify Code

Once the user enters the code in your app, call the `codes/verify` endpoint.

<Code
  code={`
  curl -X POST https://mc-id.com/api/v1/codes/verify \\
    -H "Content-Type: application/json" \\
    -H "X-API-Key: YOUR_API_KEY" \\
    -d '{"code": "123456", "uuid": "069a79f444e94726a5befca90e38aaf5"}'
  `}
  lang="bash"
  mark={["codes/verify", "YOUR_API_KEY", "code"]}
/>

If successful, the user is verified for your application.
